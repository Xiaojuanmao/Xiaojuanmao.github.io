<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Fresco框架解析(一)------整体介绍 | Xiaojuanmao&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Fresco框架解析(一)——整体介绍前言&amp;#160;&amp;#160;&amp;#160;&amp;#160;已经记不清是在大二还是在大三的时候，听过Fresco这个词了，当时只知道是加载图片用的第三方库，并没有太多印象，入门android的时间也不是很长，要学的东西还很多很多，没太多时间来看看这个框架的整体架构以及在设计方面的小细节。来了北京实习，正好碰见目前的项目正在使用这款框架，说来好像也有点巧合，如果说来实习">
<meta property="og:type" content="article">
<meta property="og:title" content="Fresco框架解析(一)------整体介绍">
<meta property="og:url" content="http://yoursite.com/2016/09/15/Fresco框架解析(一)------整体介绍/index.html">
<meta property="og:site_name" content="Xiaojuanmao's Blog">
<meta property="og:description" content="Fresco框架解析(一)——整体介绍前言&amp;#160;&amp;#160;&amp;#160;&amp;#160;已经记不清是在大二还是在大三的时候，听过Fresco这个词了，当时只知道是加载图片用的第三方库，并没有太多印象，入门android的时间也不是很长，要学的东西还很多很多，没太多时间来看看这个框架的整体架构以及在设计方面的小细节。来了北京实习，正好碰见目前的项目正在使用这款框架，说来好像也有点巧合，如果说来实习">
<meta property="og:image" content="http://7xrl39.com1.z0.glb.clouddn.com/Fresco_MVC.png">
<meta property="og:updated_time" content="2016-09-15T12:33:13.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fresco框架解析(一)------整体介绍">
<meta name="twitter:description" content="Fresco框架解析(一)——整体介绍前言&amp;#160;&amp;#160;&amp;#160;&amp;#160;已经记不清是在大二还是在大三的时候，听过Fresco这个词了，当时只知道是加载图片用的第三方库，并没有太多印象，入门android的时间也不是很长，要学的东西还很多很多，没太多时间来看看这个框架的整体架构以及在设计方面的小细节。来了北京实习，正好碰见目前的项目正在使用这款框架，说来好像也有点巧合，如果说来实习">
  
    <link rel="alternative" href="/atom.xml" title="Xiaojuanmao&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Xiaojuanmao&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Life began in 1990</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Fresco框架解析(一)------整体介绍" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/15/Fresco框架解析(一)------整体介绍/" class="article-date">
  <time datetime="2016-09-15T11:39:23.000Z" itemprop="datePublished">2016-09-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Fresco框架解析(一)------整体介绍
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Fresco_u6846_u67B6_u89E3_u6790_28_u4E00_29_u2014_u2014_u6574_u4F53_u4ECB_u7ECD"><a href="#Fresco_u6846_u67B6_u89E3_u6790_28_u4E00_29_u2014_u2014_u6574_u4F53_u4ECB_u7ECD" class="headerlink" title="Fresco框架解析(一)——整体介绍"></a>Fresco框架解析(一)——整体介绍</h2><h3 id="u524D_u8A00"><a href="#u524D_u8A00" class="headerlink" title="前言"></a>前言</h3><p>&#160;&#160;&#160;&#160;已经记不清是在大二还是在大三的时候，听过<code>Fresco</code>这个词了，当时只知道是加载图片用的第三方库，并没有太多印象，入门<code>android</code>的时间也不是很长，要学的东西还很多很多，没太多时间来看看这个框架的整体架构以及在设计方面的小细节。来了北京实习，正好碰见目前的项目正在使用这款框架，说来好像也有点巧合，如果说来实习做其他模块，可能一时半会儿还碰不见<code>Fresco</code>，恰好做到了app内的聊天模块，涉及到加载图片的一些问题，在组内老人的指导下，开始了对<code>Fresco</code>的熟悉过程。</p>
<p>&#160;&#160;&#160;&#160;库挺大的，个人时间也比较少，代码起初看起来还是挺费劲的，看的时候也想起了接触的第一个第三方库<code>Volley</code>，一开始内心是拒绝的，当时<code>android</code>刚入门不久，被同学拉着做一个小项目，涉及到网络请求，各种不懂各种闹，网上各种关于Volley的资料也看不明白，可能是因为蠢的原因，最后烦起来把<code>Volley</code>的代码全看了一遍。后来也读过一些库的代码，例如<code>Picasso</code>、<code>EventBus</code>、<code>Rxjava</code>等等。多看看大神们的代码还是挺有收获的。</p>
<a id="more"></a>
<p>&#160;&#160;&#160;&#160;所以这次也是一样= =，遇到了一个有关<code>Fresco</code>的小型历史遗留问题，可能也是自己没有找到合适的解决方案，带有一小点定制化的功能又催我看看<code>Fresco</code>的代码。（其实开始我的内心又是拒绝的，不过会慢慢好起来</p>
<p>&#160;&#160;&#160;&#160;过程中也是少不了一些资料的，看代码的时候个人习惯是把整个库的代码弄下来，在源代码上边看边打上注释，也方便写写demo之类的。下面是一些链接</p>
<p><a href="https://github.com/facebook/fresco" target="_blank" rel="external">Fresco Github</a><br><a href="http://frescolib.org/" target="_blank" rel="external">Fresco文档</a><br><a href="http://www.fresco-cn.org/" target="_blank" rel="external">Fresco中文文档</a><br><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0402/2683.html" target="_blank" rel="external">Fresco介绍 - 一个新的android图片加载库</a><br><a href="http://blog.csdn.net/u010687392/article/details/50266633" target="_blank" rel="external">Fresco图片框架内部实现原理探索</a><br><a href="https://github.com/Xiaojuanmao/fresco-parser" target="_blank" rel="external">这里是我的Fresco代码+注释</a></p>
<h3 id="u7B80_u4ECB"><a href="#u7B80_u4ECB" class="headerlink" title="简介"></a>简介</h3><p>&#160;&#160;&#160;&#160;关于<code>Fresco</code>，网上的各种解析的文章都介绍烂了，就一图片加载的库，挺牛逼的，各种膜。就下面这句话，没了。</p>
<blockquote>
<p>Fresco是一个强大的图片加载组件</p>
</blockquote>
<p>&#160;&#160;&#160;&#160;但是在开始看代码之前还是有必要以整体的视角看看有哪些主要结构的，整体的结构可以认为是采用了<code>MVC</code>，这并不是客套话，从开始看代码到现在零零散散快一个月了(自己本身拖延症加上平时上班，休息的时候还喜欢各种浪)，大概半个月放在了<code>View(图片展示)</code>，另外半个月放在了<code>Controller(图片加载)</code>上，不知道自己是太蠢了还是咋地，刚开始看真是在<code>Fresco</code>的<code>MVC</code>模式中迷路了，在<code>View</code>中看了好久愣是没找到加载图片的地方。</p>
<p><strong>Fresco中的MVC模式</strong></p>
<ul>
<li><p><strong>DraweeHierarchy及其实现类(Model)</strong><br>&#160;&#160;&#160;&#160;Hierarchy是<code>层级</code>的意思，在<code>Fresco</code>的使用过程中，能够给一个<code>SimpleDraweeView</code>设置各种图片，例如<code>加载中的图片</code>、<code>加载失败的图片</code>、<code>加载开始之前的占位图</code>等等，能够明显的感受到在<code>SimpleDraweeView</code>中有很多张图片层叠在一起。设置的各种<code>drawable</code>由<code>DraweeHierarchy</code>及其实现类来统一管理。能够认为此模块充当<code>model</code>的角色。</p>
</li>
<li><p><strong>DraweeView及其实现类(View)</strong><br>&#160;&#160;&#160;&#160;此模块会绑定<code>DraweeHierarchy模块</code>的一个名为<code>TopDrawable</code>的<code>drawable</code>对象，直接画在<code>view</code>上，当<code>DraweeHierarchy</code>的数据源发生变化的时候，<code>DraweeView</code>会刷新自身并显示最新的数据源，在<code>Fresco</code>中是<code>View</code>的角色。目前<code>DraweeView</code>是继承自<code>ImageView</code>，官方解释说并不会过于依赖<code>ImageView</code>，后期可能会直接继承自<code>View</code>，在使用<code>SimpleDraweeView</code>的时候既可以当作<code>ImageView</code>来使用，又能结合<code>Fresco</code>的功能。</p>
</li>
<li><p><strong>DraweeController及其实现类(Controller)</strong><br>&#160;&#160;&#160;&#160;<code>Controller</code>模块，负责调用方加载图片的请求，处理各种加载的逻辑，并会将结果分发给<code>DraweeHierarchy</code>模块，<code>DraweeHierarchy</code>中的收到了新的结果之后，并通知<code>Drawable</code>刷新自己，<code>Drawable</code>在刷新自己的时候，会通过Android实现的<code>Callback</code>来通知<code>View</code>刷新自己的UI，以此来达到显示最新<code>Drawable</code>的功能。</p>
</li>
</ul>
<p>&#160;&#160;&#160;&#160;上面涉及到的三大模块基本交互能用下面这张图片展示（用的软件不能打中文，蹩脚的英文，并非我装X：<br><img src="http://7xrl39.com1.z0.glb.clouddn.com/Fresco_MVC.png" alt="Fresco_MVC"></p>
<h3 id="u81EA_u9876_u5411_u4E0B"><a href="#u81EA_u9876_u5411_u4E0B" class="headerlink" title="自顶向下"></a>自顶向下</h3><p>&#160;&#160;&#160;&#160;看代码的时候个人都有不同的习惯，个人的习惯是从项目对外开放的接口开始往下看，直接从底下的实现看还是挺难懂的，自顶向下的过程能够边结合demo边阅读代码。由<code>Fresco</code>为例，接触到的第一个接口就是<code>Fresco.initialize(this);</code>，从这里开始往下，依次了解以下几大块内容：</p>
<ol>
<li>图片的加载流程<ul>
<li>图片加载过程</li>
<li>缓存管理机制</li>
<li>耗时线程与UI线程的转换</li>
</ul>
</li>
<li>图片的展示<ul>
<li>Drawable Layers的管理</li>
<li>对View特殊事件的响应</li>
</ul>
</li>
</ol>
<p>&#160;&#160;&#160;&#160;对每个模块进行一个小概括，后面再详细结合代码分析其实现过程：</p>
<h4 id="u56FE_u7247_u52A0_u8F7D_u8FC7_u7A0B"><a href="#u56FE_u7247_u52A0_u8F7D_u8FC7_u7A0B" class="headerlink" title="图片加载过程"></a>图片加载过程</h4><p>&#160;&#160;&#160;&#160;图片的加载过程是最重要的一个环节，<code>Fresco</code>支持了各种类型的加载，本地文件、资源文件、网络等等情况，在介绍加载过程之前，需要理解一个概念，整个加载框架模拟了一种类似于<strong>生产流水线</strong>的形式。将给一次图片加载的过程想象成自己拿着加工原料和自己的需求，交给<code>Fresco</code>加载框架，框架马上根据用户的需求构建了一条<strong>流水线</strong>，一道道工序首尾相连，上一道工序的结果将作为下一道工序的输入依次有序的处理，<strong>可扩展性</strong>可以说是很大的，能够在任意一道工序之前或者之后插入合理的工序，大概情况大概如下：</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImageRequest<span class="function"><span class="params">(原料以及用户需求)</span> --&gt;</span> 交给DraweeController<span class="function"> --&gt;</span> 交给ImagePipeline构造流水线<span class="function"><span class="params">(流水线中包括获取图片源数据、缓存机制的处理、静态动态图支持、图片解码、异步耗时切换等等工序)</span> --&gt;</span> 将流水线包装在DataSource<span class="function"><span class="params">(未启动)</span> --&gt;</span> 返回给DraweeController(想啥时候启动就啥时候启动，通过submitRequest())</span><br></pre></td></tr></table></figure>
<p>&#160;&#160;&#160;&#160;上面涉及到的一些概念:</p>
<ul>
<li><code>ImageRequest</code> : 在预备加载图片的时候，需要用户手动构造一个<code>ImageRequest</code>，暂时将<code>ImageReuqest</code>理解为包含了目标图片地址、用户期望图片大小、用户设置的图片加载完成监听回调等等一系列信息，<code>Fresco</code>根据这个Request来加载目标图片，并返回用户期望的结果。</li>
<li><code>DraweeController</code> : 用户在构造好<code>ImageRequest</code>之后将其与<code>DraweeController</code>绑定，并将<code>DraweeController</code>绑定在<code>DraweeView</code>上，整个加载图片的过程，包括图片加载完成通知<code>DraweeHierachy</code>刷新数据都包在了<code>DraweeController</code>身上。<code>DraweeController</code>会将<code>ImageRequest</code>提交给下面提到的<code>ImagePipeline</code>，得到一个能够直接获取结果的<code>DataSource</code>实现类，在<code>DataSource</code>等数据就好了。</li>
<li><code>ImagePipeline</code> : 根据传入的<code>ImageRequest</code>构造出获取数据的<code>DataSource</code>实现类，返回给<code>DraweeController</code>。<code>ImagePipeline</code>中包含了一个很重要的工厂类<code>ProducerSequenceFactory</code>，</li>
<li><code>DataSource</code> : 一个接口而已，重要的是在<code>ImagePipeline</code>构造的实现类，实现接口中返回结果的方法<code>getResult()</code>。</li>
</ul>
<h4 id="u7F13_u5B58_u7BA1_u7406_u673A_u5236"><a href="#u7F13_u5B58_u7BA1_u7406_u673A_u5236" class="headerlink" title="缓存管理机制"></a>缓存管理机制</h4><p>&#160;&#160;&#160;&#160;关于缓存的管理，<code>Fresco</code>维护了三份不同的缓存来达到最佳的效果：<code>Bitmap缓存</code>，<code>图片字节码缓存</code>，<code>文件缓存</code>。在<code>Fresco</code>中定义了一种引用，能够有效的释放资源、防止内存泄漏的<code>CloseableReference</code>，内部采用了<code>SharedReference</code>来进行实际的引用计数管理，<code>CloseableReference</code>主要负责的是关于资源释放方面的功能。在内存中的缓存也是参考<code>Map</code>的设计方式，结合了<code>LruCache</code>的缓存更新策略，利用自己构建的<code>CacheKey</code>来映射存储一些缓存对象<code>CloseableImage</code>及其扩展类。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> MemoryCache&lt;CacheKey, CloseableImage&gt; mBitmapMemoryCache; <span class="comment">// 有关bitmap的内存缓存</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> MemoryCache&lt;CacheKey, PooledByteBuffer&gt; mEncodedMemoryCache; <span class="comment">// 有关图片原始字节码的内存缓存</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> BufferedDiskCache mMainBufferedDiskCache; <span class="comment">// 提供对磁盘文件进行读写管理的类</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>Bitmap缓存</strong><br>对于Bitmap的缓存是为了对bitmap使用更好的进行优化，bitmap实在是太占内存了，加载图片的时候申请过大的图片或者重复不停的创建bitmap对象，很快就会OOM，对bitmap的管理也是很有必要的。在上面附的部分<code>Fresco</code>中<code>ImagePipeline</code>部分代码，能够看到缓存管理类，其中有一个就是负责管理<code>bitmap</code>的。<code>CloseableImage</code>不用去管，它是一个包含了一些关于资源释放以及获取资源信息的一些接口，实现类有<code>CloseableStaticBitmap</code>以及<code>CloseableAnimatedBitmap</code>等等，这些具体的实现类中，一个实现类对象管理着一个<code>bitmap</code>。</p>
</li>
<li><p><strong>图片字节码缓存</strong><br>图片在加载完成之后只是一大串字节码，还需要通过缓冲区等方式对图片的格式进行判定，解码等后续工作，<code>Fresco</code>中对图片的原数据流进行了缓存，由于这部分可能非常的大，由<code>PooledByteBuffer</code>接口以及其后面一堆相关的类管理着<code>native</code>内存区域块，并没有放在<code>java堆</code>。缓存命中之后会读取对应的字节码，直接按照需求进行编码成图片。</p>
</li>
<li><p><strong>文件缓存</strong><br>文件缓存也是挺大的一块，有两种类型的文件缓存，<code>.tmp</code>后缀和<code>.cnt</code>后缀类型，前者是临时的缓存文件，在一定条件下会转换成后者，后者是<code>content</code>类型文件，也就是持久化的图片信息的类型。这个模块主要由<code>BufferedDiskCache</code>以及<code>FileCache</code>接口及实现类来负责的。</p>
</li>
</ul>
<h4 id="u8017_u65F6_u7EBF_u7A0B_u4E0EUI_u7EBF_u7A0B_u7684_u8F6C_u6362"><a href="#u8017_u65F6_u7EBF_u7A0B_u4E0EUI_u7EBF_u7A0B_u7684_u8F6C_u6362" class="headerlink" title="耗时线程与UI线程的转换"></a>耗时线程与UI线程的转换</h4><p>关于这个问题，好多的三方库都具有自己不同的消息体制，<code>Fresco</code>在处理耗时的网络请求或者是图片解码，利用了<code>executor</code>线程池来进行操作。对于线程池的管理，有专门的一个类叫做<code>DefaultExecutorSupplier</code>，这个类里面有部分代码是这个样子的，具体的实现暂时不看：<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Executor mIoBoundExecutor;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Executor mDecodeExecutor;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Executor mBackgroundExecutor;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Executor mLightWeightBackgroundExecutor;</span><br></pre></td></tr></table></figure></p>
<p>有各种用来执行各种各样耗时操作的线池，想要什么就直接拿着往里面丢runnable,而对于返回的图片结果，需要在主线程进行处理，在<code>AbstractDraweeController</code>中的<code>submitRequest()</code>方法的最后一行能够找到答案，用了一个<code>mUiThreadImmediateExecutor</code>，这个东西里面实际上是一个主线程的<code>Handler</code>，把需要执行的<code>runnable</code>往主线程中丢就好了，<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">mDataSource</span><span class="class">.subscribe</span>(<span class="tag">dataSubscriber</span>,<span class="tag">mUiThreadImmediateExecutor</span>);</span><br></pre></td></tr></table></figure></p>
<p>对于返回结果的处理采用了接口回调的方式，在耗时操作完成之前，<code>DraweeHierarchy</code>会预先展示加载中的图片，耗时完成之后回调接口并在主线程中将最新结果告诉<code>DraweeHierachy</code>，刷新<code>DraweeView</code>。</p>
<h4 id="Drawable_Layers_u7684_u7BA1_u7406"><a href="#Drawable_Layers_u7684_u7BA1_u7406" class="headerlink" title="Drawable Layers的管理"></a>Drawable Layers的管理</h4><p>前面提到过，<code>Fresco</code>能够支持多层的图片显示，加载前显示一张图，加载中支持<code>progress</code>，加载失败等等，这些的实现和<code>DraweeHierarchy</code>对于多层<code>Drawable</code>的管理有关，有各种类型的<code>Drawable</code>以及一个<code>Drawable</code>数组等等，数组中每一个<code>Drawable</code>都具有自己特殊的功能，通过对数组中<code>Drawable</code>隐藏或者显示来达到多层的效果，对这些<code>layer</code>的管理也是挺有意思的，后面会详细的分析这一块的内容。</p>
<h4 id="u5BF9View_u7279_u6B8A_u4E8B_u4EF6_u7684_u54CD_u5E94"><a href="#u5BF9View_u7279_u6B8A_u4E8B_u4EF6_u7684_u54CD_u5E94" class="headerlink" title="对View特殊事件的响应"></a>对View特殊事件的响应</h4><p><code>Fresco</code>的功能挺强大的，其扩展性也是挺大，能够组合出各种想要的效果，官方实现了支持多指触控，支持拖拽缩放的<code>View</code>，通过对用户手势的各种判断，通过<code>matrix</code>来进行缩放。其实<code>DraweeView</code>本身有一套<code>ScaleType</code>，但是其不支持<code>matrix</code>类型的，也就是说在使用<code>DraweeView</code>的过程中，设置某些<code>ImageView</code>的属性会没用。</p>
<p>还有比较细心的一处设计，就是<code>DraweeView</code>能够感受到自己是被<code>attach</code>或者<code>detach</code>的状态，通知给<code>DraweeController</code>，接到通知之后会进行相应的动作，例如开始加载图片或者取消图片加载的动作，以免做了不同步的加载而导致一些资源的泄漏等。这个对<code>RecyclerView</code>中图片的加载很好的，<code>RecyclerView</code>在快速滚动的时候会不停的重复，其中有一个<code>ChildHelper</code>类专门用来管理列表中<code>item</code>的<code>detach</code>和<code>attach</code>事件，有方法<code>attachViewToParent</code>以及<code>detachViewFromParent</code>会去通知<code>View</code>已经被<code>attach</code>或者<code>detach</code>，能够快速的对特殊事件作出反应。</p>
<h4 id="u53EF_u6269_u5C55_u6027"><a href="#u53EF_u6269_u5C55_u6027" class="headerlink" title="可扩展性"></a>可扩展性</h4><p>官方的demo中还包括了和<code>Volley</code>结合起来，以及对一些<code>gif</code>图片、<code>webp</code>图片的支持，支持结合自定义<code>View</code>来使用<code>DraweeController</code>等组件来单独加载图片等等，解耦程度还是挺不错的，库里的图片加载模块可以拿出来单独使用。</p>
<p>对于<code>Fresco</code>的整体介绍已经差不多了，个人觉得值得注意的地方都已经整理了以下，下篇开始从<code>Fresco.java</code>开始详细的讲解实现过程，自己也再梳理一遍，代码有点多，看过了的一些东西都有点忘了= =。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/15/Fresco框架解析(一)------整体介绍/" data-id="cit4bhxgg0000uyutz2qpgu96" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fresco/">Fresco</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2016/09/14/279_Perfect Squares/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Perfect Squares</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/EventBus/">EventBus</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fresco/">Fresco</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/">LeetCode</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/View/">View</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Volley/">Volley</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebView/">WebView</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/net/">net</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/others/">others</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wechat/">wechat</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/EventBus/" style="font-size: 13.33px;">EventBus</a> <a href="/tags/Fresco/" style="font-size: 10px;">Fresco</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/LeetCode/" style="font-size: 16.67px;">LeetCode</a> <a href="/tags/View/" style="font-size: 10px;">View</a> <a href="/tags/Volley/" style="font-size: 20px;">Volley</a> <a href="/tags/WebView/" style="font-size: 10px;">WebView</a> <a href="/tags/net/" style="font-size: 10px;">net</a> <a href="/tags/others/" style="font-size: 13.33px;">others</a> <a href="/tags/wechat/" style="font-size: 10px;">wechat</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">9</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/09/15/Fresco框架解析(一)------整体介绍/">Fresco框架解析(一)------整体介绍</a>
          </li>
        
          <li>
            <a href="/2016/09/14/279_Perfect Squares/">Perfect Squares</a>
          </li>
        
          <li>
            <a href="/2016/09/14/313_Super Ugly Number/">Super Ugly Number</a>
          </li>
        
          <li>
            <a href="/2016/09/14/关于正则表达式(Regular Expression)/">关于正则表达式(Regular Expression)</a>
          </li>
        
          <li>
            <a href="/2016/08/31/89_Gray Code/">Gray Code</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Xiaoxiaoda<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>